title: LAMP环境搭建（Red Hat 5）BBS Discuz 7.0
categories: [Linux]
tags: []
date: 2010-05-14 17:12:00
---
LAMP就是linux+apache（httpd）+mysql+php，完美结合。。<br />实验环境Red Hat 5 .<br /><br />开装。。<br />上面的几个包，光盘里面都有。<br /><br />rpm -ivh 装上就是了。。依赖关系烦人的很，可以在装系统的时候多装一些。。。<br />我就复制一遍文章的装吧，人懒没治。。。嘿<br /><br /><br /><br />一、安装Apache：<br /><br /># tar -zxvf httpd-2.2.10.tar.gz<br /><br />(其实在输入文件名时有个简单的技巧，按tab键补全。)<br /><br /># cd httpd-2.2.10<br /><br />#mkdir /usr/local/apache2&#160;&#160; //建立一个apache2目录，这个目录是apahce的安装位置<br /><br />#./configure --prefix=/usr/local/apache2 --enabel-so&#160; //./configure 这个可以加-h来提供帮助，所有的选项都有解释的。<br /><br />#make;make clean;make install&#160; //这里加个make clean是防止以前有编译过的.<br /><br />#ln /usr/local/apache2/bin/apachectl&#160; /etc/rc.d/init.d/httpd&#160; //添加为httpd“服务”<br /><br />#echo “/usr/local/apache2/bin/apachect start” &gt;&gt;/etc/rc.d/rc.local&#160;&#160; //设置httpd开机自运行<br /><br />二、安装MySQL *<br /><br />#tar -zxvf mysql-5.0.67.tar.gz<br /><br />#cd mysql-5.0.67<br /><br />#groupadd mysql<br /><br />#useradd -g mysql mysql<br /><br />#mkdir /usr/local/mysql<br /><br />#mkdir /usr/local/mysql/data<br /><br />#./configure --prefix=/usr/local/mysql --sysconfdir=/etc --enable-assembler --with-charset=utf8 --with-extra-charsets=all-static--localstaticdir=/usr/local/mysql/data<br /><br />#make clean,make,make install<br /><br />#/usr/local/mysql/bin/mysql_install_db<br /><br /><br />别忘记修改root密码默认是空。<br />#mysqladmin -u root password 123456&#160; //最好设置复杂些。。。<br /><br /><br />三、安装PHP<br /><br />#tar -zxvf php-5.2.6.tar.gz<br /><br />#cd php-5.2.6<br /><br />#mkdir /usr/local/php5<br /><br />./configure&#160;&#160; --prefix=/usr/local/php5&#160;&#160; --with-mysql=/usr&#160;&#160; --with-gd=/usr&#160;&#160; --with-libxml-dir=/usr&#160;&#160; --with-apxs2=/usr/local/apache2/bin/apxs&#160;&#160; --with-zlib=/usr&#160;&#160; --with-jpeg-dir=/usr/local/modules/jpeg&#160;&#160; --with-freetype-dir=/usr&#160;&#160; --with-curl=/usr&#160;&#160; --with-png-dir=/usr&#160;&#160; --enable-sockets&#160;&#160; --with-config-file-path=/usr/local/apache2/conf<br /><br />#make clean<br /><br />#make<br />make install<br /><br />#cp&#160; php.ini-dist /usr/local/apache2/conf/php.ini&#160; //php.ini-dist 文件在原代码所在的目录<br /><br /><br /><br />添加PHP到Apache中<br /><br />#vi&#160; /usr/local/apache2/conf /httpd.conf<br /><br /><br /><br />在httpd.conf文件相应的地方添加下面几行(如果在安装php5时，有的配置可以已经加上了，就不需要再重新添加了)<br /><br /><br /><br />LoadModule php5_module modules/libphp5.so<br /><br />在&lt;IfModule mime_module&gt; 和 &lt;/If&gt;之间<br /><br />大约在“TypesConfig conf/mime.types”之后加上以下几行<br /><br /><br /><br />AddType application/x-httpd-php&#160; .php&#160; //只要有这一行PHP就可运行了<br /><br />AddType application/x-httpd-php&#160; .phtml&#160; .php3<br /><br />AddType application/x-httpd-php-soure&#160; .phps<br /><br />注：前面三行代码中“.php”前面都有一个空格，否则启动apache服务器时会出错<br /><br />在DirectoryIndex index.html index.html.var 后面添加index.php<br /><br />重新启动apache就可以了<br /><br />四、安装Zend<br /><br />#tar -zxvf zendoptimizer-3.3.3-linux-glibc23-i386.tar.gz<br /><br />#cd zendoptimizer-3.3.3-linux-glibc23-1.386<br /><br />#./install.sh<br /><br />安装过程中，需要输入php.ini的位置，和确定Apache的位置。<br /><br />五、ZendOptimizer-3.3.0a-linux-glibc21-i386.tar<br /><br />这个东西实验环境装不装都可以，起到优化作用。可以提到网站的访问速度。提高的还不少、<br />会让你选择php.ini的目录，是目录！默认就好。。<br /><br />六、UCenter_1.5.1_SC_UTF8<br />1. 将 upload 文件夹下所有的文件上传<br /><br />2. 如果您的主机为 *nix 操作系统，请设置如下文件夹权限为 777<br />./data<br />./data/avatar<br />./data/backup<br />./data/cache<br />./data/logs<br />./data/tmp<br />./data/view<br /><br />3. 通过浏览器访问 http://您的域名/UC 安装目录/install/， 根据提示填写 mysql 配置信息、管理员账号信息<br /><br />4.&#160; 删除 install 目录<br /><br />5. 完成安装<br /><br />七、安装 _7.2_SC_UTF8.zip<br /><br />在UCenter向导里面添加这个应用。。<br />解压出来，首先修改配置文件，config.inc.php<br />以下这些目录需要可读写权限 <br />./templates <br />./attachments <br />./forumdata <br />./forumdata/cache <br />./forumdata/templates <br />./forumdata/threadcaches <br />./forumdata/logs <br />执行安装脚本<br />请在浏览器中运行 install 程序，即访问 http://您的域名/论坛目录/install/ <br />参照页面提示，进行安装，直至安装完毕.<br /><br /><br /><br />下课了，最后一句话，，没有网卡的日志真不爽。。<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />