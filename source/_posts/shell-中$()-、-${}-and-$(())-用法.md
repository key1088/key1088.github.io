title: shell 中$() 、 ${} and $(()) 用法
categories: [Shell编程]
tags: []
date: 2011-04-29 12:48:00
---
<p>脚本如下：</p><p><strong>#!/bin/bash<br />#test $() and ${} and $(())&nbsp; useges<br />#by:key1088@163.com<br />#mail:key1088@163.com<br /><br /><br />file=$(pwd)<br />echo $file<br />echo<br />echo '${file#*/}'<br />echo ${file#*/}<br />echo<br /><br />echo '${file##*/}'<br />echo ${file##*/}<br />echo<br /><br />echo '$(file%/*)'<br />echo ${file%%/*}<br />echo<br /><br />echo '${file/cis7/cis8/}'<br />echo ${file/cis7/cis8/}<br />echo<br /><br />echo '${file//cis7/cis8/}'<br />echo ${file//cis7/cis8/}<br />echo<br /><br />echo '${file:0:5}'<br />echo ${file:0:5}<br />echo<br /><br />echo '${file:5:5}'<br />echo ${file:5:5}<br />echo<br /><br />echo '$(#file)'<br />echo ${#file}<br />echo<br /><br />echo &quot; define arry=(a b c d)&quot;<br />arry=(a b c d)<br />echo '$arry'<br />echo $arry<br />echo<br />echo '${arry[*]}'<br />echo ${arry[*]}<br />echo<br /><br />echp &quot;define arry=&quot;a b c d&quot;&quot;<br />arry=&quot;a b c d&quot;<br />echo '$arry'<br />echo $arry<br />echo<br /><br />a=1<br />b=2<br /><br />echo<br />echo '$(($a+$b))'<br />echo $(($a+$b))<br /><br />echo<br />echo '$((a+1))'<br />echo $((a+1))&nbsp;&nbsp;<br /></strong></p><p><strong>#（（i++））<br /></strong></p><p><strong>#echo $i</strong></p><p>&nbsp;</p><p>&nbsp;</p><p>脚本执行</p><p>shell&gt;./text.sh</p><p>/videodata/cis7/pmkz/cis7<br /><br />${file#*/}<br />videodata/cis7/pmkz/cis7<br /><br />${file##*/}<br />cis7<br /><br />$(file%/*)<br /><br /><br />${file/cis7/cis8/}<br />/videodata/cis8//pmkz/cis7<br /><br />${file//cis7/cis8/}<br />/videodata/cis8//pmkz/cis8/<br /><br />${file:0:5}<br />/vide<br /><br />${file:5:5}<br />odata<br /><br />$(#file)<br />25<br /><br />&nbsp;define arry=(a b c d)<br />$arry<br />a<br /><br />${arry[*]}<br />a b c d<br /><br />./test.sh: line 51: echp: command not found<br />$arry<br />a b c d<br /><br /><br />$(($a+$b))<br />3<br /><br />$((a++))<br />2</p>